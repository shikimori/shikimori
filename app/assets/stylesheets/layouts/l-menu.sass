@import compass/css3/transition
@import mixins/column
@import mixins/responsive
@import mixins/retina

.menu-slide-outer
  &.x199
    .l-menu
      +gt_ipad
        +column(2, 22/100, 3%)
      +ipad
        +column(2, 23/100, 3%)
      +iphone-landscape
        +column(2, 32/100, 3%)
      +iphone-portrait
        +column(2, 41.5/100, 3%)

    .l-content
      +transition(margin 0.25s ease) // возможно надо отключить, чтобы не тормозило
      +gt_ipad
        +column(2, 78/100, 3%)
      +ipad
        +column(2, 77/100, 3%)
      +iphone-landscape
        +column(2, 67/100, 3%)
      +iphone-portrait
        +column(2, 58.5/100, 3%)

  &.x240
    .l-menu
      +gt_ipad
        +column(2, 0.2625, 3%)
      +ipad-landscape
        +column(2, 0.2625, 3%)
      +ipad-portrait
        +column(2, 0.25, 3%)
      +iphone-landscape
        +column(2, 32/100, 3%)
      +iphone-portrait
        +column(2, 41.5/100, 3%)

    .l-content
      +transition(margin 0.25s ease) // возможно надо отключить, чтобы не тормозило
      +gt_ipad
        +column(2, 0.7375, 3%)
      +ipad-landscape
        +column(2, 0.7375, 3%)
      +ipad-portrait
        +column(2, 0.75, 3%)
      +iphone-landscape
        +column(2, 67/100, 3%)
      +iphone-portrait
        +column(2, 58.5/100, 3%)

.l-top_menu, .menu-slide-outer
  &:after
    clear: both
    display: block
    content: ' '

.l-page
  &.menu-expanded .l-content
    +ipad
      margin-left: -24.5%
    +iphone-landscape
      margin-left: -33.5%
    +iphone-portrait
      margin-left: -45%

  +lte_ipad
    .menu-slide-outer
      width: 100%
      overflow: hidden

  .menu-slide-outer
    .menu-slide-inner
      +iphone-landscape
        width: 152.5%
      +iphone-portrait
        width: 175%

    &:not(.ipad-expanded)
      +ipad
        width: 132%

    &.x199.ipad-expanded .menu-slide-inner
      +ipad-portrait
        width: 132%

    &.x240.ipad-expanded .menu-slide-inner
      +ipad-portrait
        width: 135%

.l-page
  $toggler_height: 60px

  .menu-toggler
    cursor: pointer
    height: $toggler_height
    position: absolute
    -webkit-overflow-scrolling: touch
    right: 5px
    top: 10px
    width: auto
    z-index: 999

    +lte_ipad
      width: 26px

    +gt_ipad
      display: none

    +ipad-landscape
      &.ipad-expanded
        display: none

    .toggler
      background: #fff
      border-radius: 10px
      border: 1px solid #F4F4F4
      overflow: hidden
      padding-bottom: 2px
      padding-top: 5px
      text-align: center

      &:before
        -moz-transform: rotate(270deg)
        -ms-transform: rotate(270deg)
        -o-transform: rotate(270deg)
        -webkit-transform: rotate(270deg)
        transform: rotate(270deg)
        content: 'меню'
        display: block
        filter: none // for text-rotate in IE 9
        font-family: Arial
        letter-spacing: 0.7px
        margin-bottom: 10px
        margin-top: 20px

      &:after
        +transition(color 0.5s ease)
        color: #123
        content: '\e83e'
        font-family: shikimori
        font-size: 18px

  &.menu-expanded
    .menu-toggler .toggler:after
      content: '\e83f'
